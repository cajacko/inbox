<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="%PUBLIC_URL%/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="%PUBLIC_URL%/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="%PUBLIC_URL%/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="%PUBLIC_URL%/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="%PUBLIC_URL%/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="%PUBLIC_URL%/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="%PUBLIC_URL%/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="%PUBLIC_URL%/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="%PUBLIC_URL%/apple-icon-180x180.png"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      sizes="192x192"
      href="%PUBLIC_URL%/android-icon-192x192.png"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      sizes="32x32"
      href="%PUBLIC_URL%/favicon-32x32.png"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      sizes="96x96"
      href="%PUBLIC_URL%/favicon-96x96.png"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      sizes="16x16"
      href="%PUBLIC_URL%/favicon-16x16.png"
    />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta
      name="msapplication-TileImage"
      content="%PUBLIC_URL%/ms-icon-144x144.png"
    />
    <meta name="theme-color" content="#ffffff" />
    <title>%TITLE%</title>
    <style>
      html,
      body,
      .react {
        display: flex;
        flex: 1;
        padding: 0;
        margin: 0;
        height: 100vh;
        width: 100vw;
        font-family: helvetica, sans-serif;
        position: relative;
        overflow: hidden;
      }

      .react {
        z-index: 2;
      }

      .loadingDiv {
        opacity: 0;
        transition: 0.5s opacity;
        flex: 1;
        align-items: center;
        justify-content: center;
        display: flex;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 9999999;
      }
      .hide {
        display: none;
      }
      .background {
        background: #f3f3f3;
      }
      .loadingDiv.loading {
        opacity: 1;
      }
      .noJavascript {
        display: none;
      }
      .spinner {
        margin: 100px auto 0;
        width: 100%;
        text-align: center;
      }
      .spinner > div {
        width: 40px;
        height: 40px;
        background-color: black;
        border-radius: 100%;
        display: inline-block;
      }
      .spinner.is-animating > div {
        -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
        animation: sk-bouncedelay 1.4s infinite ease-in-out both;
      }
      .spinner.is-animating .bounce1 {
        -webkit-animation-delay: -0.32s;
        animation-delay: -0.32s;
      }
      .spinner.is-animating .bounce2 {
        -webkit-animation-delay: -0.16s;
        animation-delay: -0.16s;
      }
      @-webkit-keyframes sk-bouncedelay {
        0%,
        80%,
        100% {
          -webkit-transform: scale(0);
        }
        40% {
          -webkit-transform: scale(1);
        }
      }
      @keyframes sk-bouncedelay {
        0%,
        80%,
        100% {
          -webkit-transform: scale(0);
          transform: scale(0);
        }
        40% {
          -webkit-transform: scale(1);
          transform: scale(1);
        }
      }

      #error {
        opacity: 0;
      }

      .error {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1;
      }

      .error {
        -ms-flex-align: center;
        -ms-flex-direction: column;
        -ms-flex-pack: center;
        -ms-flex: 1;
        -webkit-align-items: center;
        -webkit-box-align: center;
        -webkit-box-pack: center;
        -webkit-flex-direction: column;
        -webkit-flex: 1;
        -webkit-justify-content: center;
        align-items: center;
        background-color: #eceff1;
        display: -ms-flexbox;
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
        flex-direction: column;
        flex: 1;
        justify-content: center;
        padding: 10px;
      }

      .error__container {
        -ms-flex-align: center;
        -ms-flex-direction: column;
        -webkit-align-items: center;
        -webkit-box-align: center;
        -webkit-flex-direction: column;
        align-items: center;
        display: -ms-flexbox;
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
        flex-direction: column;
        max-width: 600px;
      }

      .error__titlecontainer,
      .error__messagecontainer {
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        display: -ms-flexbox;
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
        flex-direction: column;
        margin-bottom: 20px;
      }

      .error__codecontainer {
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        display: -ms-flexbox;
        display: -webkit-box;
        display: -webkit-flex;
        display: flex;
        flex-direction: column;
        margin-bottom: 0px;
      }

      .error__title {
        font-size: 24px;
        font-weight: 400;
        -webkit-letter-spacing: 0px;
        -moz-letter-spacing: 0px;
        -ms-letter-spacing: 0px;
        letter-spacing: 0px;
        color: #102027;
        text-align: center;
      }

      .error__message {
        font-size: 16px;
        font-weight: 400;
        -webkit-letter-spacing: 0.1px;
        -moz-letter-spacing: 0.1px;
        -ms-letter-spacing: 0.1px;
        letter-spacing: 0.1px;
        color: #102027;
        text-align: center;
        line-height: 1.5;
      }

      .error__code {
        font-size: 10px;
        font-weight: 400;
        -webkit-letter-spacing: 1.5px;
        -moz-letter-spacing: 1.5px;
        -ms-letter-spacing: 1.5px;
        letter-spacing: 1.5px;
        color: #102027;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div id="react" class="react"></div>
    <div id="loading" class="loadingDiv loading background splashScreen">
      <script>
        document.getElementById('loading').classList.remove('background');
      </script>
      <div id="spinner" class="spinner noJavascript is-animating">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
      </div>

      <div id="noJavascript" class="ErrorBoundary error noJsText">
        <script>
          document.getElementById('noJavascript').classList.add('hide');
        </script>
        <div class="error__container">
          <div class="error__titlecontainer">
            <span class="error__title">%NO_JS_TITLE%</span>
          </div>
          <div class="error__messagecontainer">
            <span class="error__message">%NO_JS_MESSAGE%</span>
          </div>
          <div class="error__codecontainer">
            <span class="error__code ErrorBoundary__Code"
              >%CODE_TEXT%: %NO_JS_CODE%</span
            >
          </div>
        </div>
      </div>
      <script>
        Element.prototype.remove = function() {
          this.parentElement.removeChild(this);
        };
        NodeList.prototype.remove = HTMLCollection.prototype.remove = function() {
          for (let i = this.length - 1; i >= 0; i--) {
            if (this[i] && this[i].parentElement) {
              this[i].parentElement.removeChild(this[i]);
            }
          }
        };
        document.getElementById('noJavascript').remove();
        window.noLoading = true;
        setTimeout(function() {
          if (!window.initialRender) {
            window.startTime = Math.floor(Date.now());
            window.noLoading = false;
            document.getElementById('loading').classList.add('background');
            const noJavascriptClass = document.querySelector('.noJavascript');
            noJavascriptClass.classList.remove('noJavascript');
          }
        }, 500);
      </script>
    </div>
    <div id="error" class="ErrorBoundary error">
      <div class="error__container">
        <div class="error__titlecontainer">
          <span id="error__title" class="error__title">%ERROR_TITLE%</span>
        </div>
        <div class="error__messagecontainer">
          <span class="error__message"
            ><span id="error__message">%ERROR_MESSAGE%</span>
            <a href="mailto:%ERROR_EMAIL%">%ERROR_EMAIL%</a></span
          >
        </div>
        <div class="error__codecontainer">
          <span class="error__code ErrorBoundary__Code"
            >%CODE_TEXT%: <span id="error__code">%ERROR_CODE%</span></span
          >
        </div>
      </div>

      <script>
        function setText(id, text) {
          if (!text) return;

          var el = document.getElementById(id);

          if (el) {
            el.innerHTML = text;
          }
        }

        window.showError = function(error) {
          var reactEl = document.getElementById('react');

          if (reactEl) reactEl.remove();

          setText('error__title', error && error.title);
          setText('error__message', error && error.message);
          setText('error__code', error && error.code);

          var errorEl = document.getElementById('error');

          if (errorEl) errorEl.style.opacity = '1';

          var loadingEl = document.getElementById('loading');
          if (loadingEl) loadingEl.remove();
        };

        let script = document.createElement('script');
        script.src = '/static/js/bundle.js';
        document.body.append(script);

        script.onerror = function() {
          window.showError({
            code: '%JS_NETWORK_ERROR_CODE%',
            message: '%JS_NETWORK_ERROR_MESSAGE%',
            title: '%JS_NETWORK_ERROR_TITLE%'
          });
        };
      </script>
    </div>
  </body>
</html>
